<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ZARUverse | Claim the Relic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0b0b0c" />
  <style>
    :root {
      --black: #0b0b0c;
      --gold: #ffd700;
      --gray: #e8e8e8;
      --deep: #111;
    }
    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: var(--black);
      color: var(--gray);
    }
    header {
      background: var(--black);
      border-bottom: 1px solid rgba(255,215,0,.12);
    }
    .mobile-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 14px 20px;
    }
    .brand {
      font-weight: 800;
      color: var(--gold);
      font-size: 20px;
      text-decoration: none;
    }
    .hamburger {
      font-size: 24px;
      background: none;
      border: none;
      color: var(--gold);
      cursor: pointer;
    }
    .mobile-menu {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      padding: 0;
      transition: max-height 0.4s ease, opacity 0.3s ease, padding 0.3s ease;
      background: var(--deep);
      border-top: 1px solid rgba(255,215,0,.12);
      display: flex;
      flex-direction: column;
    }
    .mobile-menu.show {
      max-height: 1000px;
      opacity: 1;
      padding: 10px 0;
    }
    .mobile-menu a {
      padding: 12px 20px;
      font-size: 16px;
      color: var(--gold);
      text-decoration: none;
      border-bottom: 1px solid rgba(255,215,0,.08);
    }
    main {
      background: url('zaru-lion.jpg') center/cover no-repeat;
      padding: 80px 20px;
      text-align: center;
      min-height: 100vh;
      position: relative;
      color: #000;
    }
    main::before {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.28);
      pointer-events: none;
    }
    main > * {
      position: relative;
      z-index: 1;
    }
    footer {
      padding: 40px 20px;
      border-top: 1px solid rgba(255,215,0,.12);
      text-align: center;
      font-size: 14px;
      color: #aaa;
    }
    .btn {
      padding: 10px 16px;
      border-radius: 10px;
      border: 1px solid rgba(0,0,0,0.2);
      color: #111;
      background: rgba(255,255,255,0.6);
      backdrop-filter: blur(2px);
      cursor: pointer;
      font-weight: 700;
      text-decoration: none;
      display: inline-block;
      margin: 6px;
    }
    .btn.primary {
      background: var(--gold);
      color: var(--black);
      border: none;
      font-weight: 900;
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0% { transform: scale(1); box-shadow: 0 0 0 rgba(255,215,0,0.4); }
      50% { transform: scale(1.05); box-shadow: 0 0 20px rgba(255,215,0,0.6); }
      100% { transform: scale(1); box-shadow: 0 0 0 rgba(255,215,0,0.4); }
    }
  </style>
</head>
<body>

<header>
  <div class="mobile-header">
    <a class="brand" href="https://zaruverse.github.io">ZARUverse</a>
    <button class="hamburger" onclick="toggleMobileMenu()">â˜°</button>
  </div>
  <nav id="mobileMenu" class="mobile-menu">
    <a href="https://zaruverse.github.io">ğŸ  Main Site</a>
    <a href="https://zaruverse.github.io/whitepaper.html">ğŸ“œ Whitepaper</a>
    <a href="https://zaruverse.github.io/tokensale.html">ğŸ’° Token Sale</a>
    <a href="https://zaruverse.github.io/docs">ğŸ“š Docs</a>
    <a href="https://zaruverse.gitbook.com">ğŸ“˜ GitBook</a>
    <a href="https://arxium-leader-of-dao.mintpad.me/">ğŸ›¡ï¸ Arxium NFT</a>
    <a href="https://github.com/zaruverse">ğŸ’» GitHub</a>
    <a href="https://www.geckoterminal.com/bsc/pools/0x8555f1aa6abe1f5ee6e1be2adf33ae0d9a807ef6">ğŸ”„ Swap Token</a>
    <a href="https://youtube.com/@zaruverse">ğŸ“º YouTube</a>
    <a href="https://t.me/zaruverse">ğŸ“² Telegram</a>
    <a href="https://x.com/zaruverse">ğŸ¦ X (Twitter)</a>
    <a href="mailto:zaru.verse@makese.site">ğŸ“© Contact</a>
  </nav>
</header>
<main>
  <img src="zaru-lion-logo.jpg" alt="ZARU Lion Logo" style="width:160px; max-width:80%; margin-bottom:30px; filter: drop-shadow(0 0 6px #ffd700);" />

  <h1 style="font-size: 36px; font-weight: 900;">Claim the Relic. Unlock the Lore.</h1>
  <p style="max-width:600px; margin:20px auto; font-size:16px;">
    Arxium isnâ€™t just an NFT. Itâ€™s your command seat in the DAO. Your key to encrypted prophecy. Your symbol of power.
  </p>

  <p style="font-size:18px; font-weight:700; color:#000; margin-top:40px;">
    Only holders of Arxium command the prophecy. Mint yours. Rule the realm.
  </p>

  <div style="margin: 30px 0;">
    <a href="https://arxium-leader-of-dao.mintpad.me/" class="btn primary">ğŸ›¡ï¸ Mint Arxium</a>
    <a href="https://youtube.com/@zaruverse" class="btn">ğŸ“º YouTube</a>
    <a href="https://www.geckoterminal.com/bsc/pools/0x8555f1aa6abe1f5ee6e1be2adf33ae0d9a807ef6" class="btn">ğŸ”„ Swap Token</a>
  </div>

  <div style="margin-top:60px;">
    <h2 style="color:#000;">ğŸ”“ Unlock the Lore</h2>
    <p id="walletStatus">Connect your wallet to verify ownership of Arxium NFT.</p>
    <button onclick="connectWallet()" class="btn primary">ğŸ”— Connect Wallet</button>
    <button onclick="disconnectWallet()" class="btn">â›“ Disconnect</button>
    <div id="loreOutput" style="margin-top:30px; font-size:16px; max-width:600px; margin-left:auto; margin-right:auto; white-space:pre-wrap;"></div>
  </div>
</main>

<footer>
  <div>Â© ZARUverse. All rights reserved.</div>
  <div style="margin-top:8px;">Built for the uncrowned kings of crypto.</div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3modal@1.9.12/dist/index.js"></script>

<script>
  function toggleMobileMenu() {
    document.getElementById('mobileMenu').classList.toggle('show');
  }

  const CONTRACT_ADDRESS = "0x57664ea40e95636ed7a4df35f4b31e3656a851cd";
  const ABI = [
    {
      constant: true,
      inputs: [{ name: "owner", type: "address" }],
      name: "balanceOf",
      outputs: [{ name: "", type: "uint256" }],
      type: "function"
    }
  ];
  const IPFS_LORE = "https://ipfs.io/ipfs/bafkreias7mdy6vti7xopxdrpaikwmpnrxjubcjojdzk2pwqksvstzf2bty";

  let web3Modal, provider, web3, userAddress;

  async function connectWallet() {
    const providerOptions = {
      walletconnect: {
        package: window.WalletConnectProvider,
        options: {
          rpc: { 56: "https://bsc-dataseed.binance.org/" },
          chainId: 56
        }
      }
    };

    web3Modal = new window.Web3Modal.default({
      cacheProvider: false,
      providerOptions
    });

    try {
      provider = await web3Modal.connect();
      web3 = new Web3(provider);

      provider.on && provider.on('accountsChanged', (accounts) => handleAccountsChanged(accounts));
      provider.on && provider.on('chainChanged', (chainId) => handleChainChanged(chainId));
      provider.on && provider.on('disconnect', () => disconnectWallet());

      const accounts = await web3.eth.getAccounts();
      handleAccountsChanged(accounts);
    } catch (err) {
      setStatus("âŒ Wallet connection failed.");
    }
  }

  function setStatus(text) {
    document.getElementById("walletStatus").innerText = text;
  }

  function handleAccountsChanged(accounts) {
    if (!accounts || !accounts.length) {
      userAddress = undefined;
      setStatus("ğŸªª Wallet connected. No account selected.");
      return;
    }
    userAddress = accounts[0];
    setStatus(`âœ… Connected: ${short(userAddress)} | BNB Chain expected`);
    checkOwnership();
  }

  async function handleChainChanged(chainIdHex) {
    const chainId = parseInt(chainIdHex, 16);
    if (chainId !== 56) {
      setStatus(`âš ï¸ Wrong network (ChainId ${chainId}). Switch to BNB Chain (56).`);
    } else {
      setStatus(`âœ… Connected: ${short(userAddress)} | BNB Chain`);
      checkOwnership();
    }
  }

  function short(addr) {
    return addr ? addr.slice(0,6) + "..." + addr.slice(-4) : "";
  }

  async function disconnectWallet() {
    try {
      if (provider && provider.disconnect) await provider.disconnect();
    } catch(e) {}
    provider = undefined;
    web3 = undefined;
    userAddress = undefined;
    setStatus("ğŸ”Œ Disconnected. Connect to unlock the lore.");
    document.getElementById("loreOutput").innerText = "";
  }

  async function checkOwnership() {
    try {
      const netId = await web3.eth.getChainId();
      if (netId !== 56) {
        setStatus(`âš ï¸ Wrong network (ChainId ${netId}). Please switch to BNB Chain (56).`);
        return;
      }
      const contract = new web3.eth.Contract(ABI, CONTRACT_ADDRESS);
      const balance = await contract.methods.balanceOf(userAddress).call();
      if (Number(balance) > 0) {
        setStatus(`ğŸ›¡ï¸ Holder verified â€” ${short(userAddress)} | Loading lore...`);
        document.querySelector('.btn.primary').innerText = "âœ… You Hold Arxium";
        fetchLore();
      } else {
        document.getElementById("loreOutput").innerText =
          "ğŸš« No Arxium detected. Mint the relic to unlock encrypted prophecy.";
        document.querySelector('.btn.primary').innerText = "ğŸ›¡ï¸ Mint Arxium Now";
      }
    } catch (err) {
      document.getElementById("loreOutput").innerText = "âš ï¸ Verification failed. Check contract address/ABI/network.";
    }
  }

  async function fetchLore() {
    try {
      const res = await fetch(IPFS_LORE, { cache: "no-store" });
      if (!res.ok) throw new Error("IPFS fetch failed");
      const text = await res.text();
      typeLore(text);
    } catch (err) {
      document.getElementById("loreOutput").innerText = "âš ï¸ Failed to load lore from IPFS.";
    }
  }

  function typeLore(text) {
    const out = document.getElementById("loreOutput");
    out.innerHTML = "";
    let i = 0;
    const speed = 26;
    const timer = setInterval(() => {
      out.innerHTML += text[i] || "";
      i++;
      if (i >= text.length) clearInterval(timer);
    }, speed);
  }
</script>

</body>
</html>



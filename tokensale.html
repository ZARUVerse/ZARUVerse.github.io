<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ZARU Token Sale | Claim Your Power</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <!-- Web3Modal (Reown) -->
  <script>
    const projectId = '9332014bbcedde12a87a2deb0e57c147';
    const metadata = {
      name: 'ZARU Token Sale',
      description: 'Claim your piece of the myth',
      url: 'https://zaruverse.github.io',
      icons: ['https://i.postimg.cc/02g7K5fF/zaru-lion-logo.png']
    };
    const ca = '0xAAbd6b3a3e0A49B22CE1701810DFA97738D12468';
    const net = 56;
  </script>
  <script type="module" src="https://dappbuilder.org/ext/assets/tokensaleuiv1.js"></script>
</head>

<body>
<div class="container py-4">
  <header class="d-flex justify-content-between align-items-center mb-4">
    <a href="index.html" class="d-flex align-items-center text-decoration-none">
      <img src="https://i.postimg.cc/02g7K5fF/zaru-lion-logo.png" height="40" class="me-2" />
      <span class="fs-3 fw-bold">ZARU Token Sale</span>
    </a>
    <w3m-button />
  </header>

  <div class="alert alert-primary" id="loadmain" style="display:none;">
    <span class="spinner-grow spinner-grow-sm"></span> Loading token sale data...
  </div>

  <div class="alert alert-warning" id="wrongnetmain" style="display:none;">
    Please switch to BNB Smart Chain <button id="switch" class="btn btn-sm btn-dark">Switch</button>
  </div>

  <div class="row g-5">
    <div class="col-lg-6">
      <img src="https://i.postimg.cc/02g7K5fF/zaru-lion-logo.png" class="img-fluid mb-3" />
      <h1 class="display-5 fw-bold">🔱 Why ZARU?</h1>
      <ul class="list-group list-group-flush mb-3">
        <li class="list-group-item">🔥 Deflationary supply with real utility</li>
        <li class="list-group-item">🧬 Access to mythic NFTs and DAO governance</li>
        <li class="list-group-item">📈 Embedded referral system for viral growth</li>
        <li class="list-group-item">✅ Branded smart contracts with verified credibility</li>
      </ul>

      <p class="lead">💡 Enter your wallet address below to generate your personalized purchase link via BuyToken.net.  
      Your referral is embedded. Your access is direct. Your power is earned.</p>

      <div class="input-group mb-3">
        <input type="text" id="referralWallet" class="form-control" placeholder="Your wallet address" />
        <button class="btn btn-outline-primary" onclick="generateReferral()">Generate Link</button>
      </div>
      <div id="referralLink" class="text-success fw-bold"></div>

      <p class="mt-4">🌐 Powered by BNB Chain</p>

      <div class="d-flex flex-wrap gap-3 mt-3">
        <a href="https://t.me/zaruverse" target="_blank"><i class="bi bi-telegram fs-3"></i></a>
        <a href="https://x.com/zaruverse" target="_blank"><i class="bi bi-twitter fs-3"></i></a>
        <a href="https://instagram.com/zaruverse" target="_blank"><i class="bi bi-instagram fs-3"></i></a>
        <a href="https://github.com/zaruverse" target="_blank"><i class="bi bi-github fs-3"></i></a>
        <a href="https://youtube.com/zaruverse" target="_blank"><i class="bi bi-youtube fs-3"></i></a>
      </div>
    </div>

    <div class="col-lg-6">
      <h2 class="fw-bold">📊 Token Sale Status</h2>
      <div id="statusArea">
        <h3 id="loading" class="badge bg-primary">Loading status...</h3>
        <h3 id="live" class="badge bg-success" style="display:none;">LIVE</h3>
        <h3 id="upcoming" class="badge bg-info" style="display:none;">Starts in <span id="timer"></span></h3>
        <h3 id="livetime" class="badge bg-success" style="display:none;">Ends in <span id="timer2"></span></h3>
        <h3 id="finished" class="badge bg-secondary" style="display:none;">Finished</h3>
      </div>

      <div class="progress my-3" id="progress-outer" style="height: 20px; display:none;">
        <div id="progress-inner" class="progress-bar" style="width: 0%"></div>
      </div>
      <p>Raised: <span id="raised">...</span> USDT</p>

      <h3 class="fw-bold mt-4">🛒 Buy Tokens</h3>
      <p>Rate: <strong>1 ZARU = 2.5 USDT</strong></p>
      <label for="amount" class="form-label">Investment Amount:</label>
      <div class="input-group mb-3">
        <input type="number" id="amount" class="form-control" min="0" step="0.1" />
        <span class="input-group-text">USDT</span>
      </div>
      <p>You will receive: <span id="qty">...</span> ZARU</p>

      <div class="d-grid gap-2">
        <button id="buybtn" class="btn btn-success">Buy</button>
        <button id="approvebtn" class="btn btn-warning" style="display:none;">Approve</button>
      </div>

      <h3 class="fw-bold mt-4">👤 My Tokens</h3>
      <div class="alert alert-warning disconnected" style="display:none;">Please connect wallet</div>
      <div class="connected" style="display:none;">
        <p>Invested: <span id="myinvested">...</span> USDT</p>
        <p>Purchased: <span class="mypurchased">...</span> ZARU</p>
      </div>
    </div>
  </div>
</div>

<script>
  function generateReferral() {
    const addr = document.getElementById("referralWallet").value;
    if (addr.length === 42) {
      const link = `https://buytoken.net/zaru?ref=${addr}`;
      document.getElementById("referralLink").innerText = `🔗 ${link}`;
    } else {
      document.getElementById("referralLink").innerText = "❌ Invalid wallet address";
    }
  }
</script>
</body>
</html>
